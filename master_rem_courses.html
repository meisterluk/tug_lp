<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Remaining courses â†’ Master studies</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript">
      <!--
      function trim(word)
      {
        return word.replace(/^0+/, "");
      }

      function cmp_dates(a, b)
      {
        var index;
        for (index = 2; index >= 0; index--)
        {
          if (a[index] < b[index])
            return -1;
          else if (a[index] > b[index])
            return 1;
        }
        return 0;
      }

      function get_sum()
      {
        var i, j, value;
        var indices = new Array();
        var sums = new Array();
        var base = "#analyse tfoot td";
        for (i = 0; i < $(base).length; i++)
        {
          if ($(base + ":nth(" + i + ")").hasClass("sum"))
          {
            indices.push(i);
            sums.push(0);
          }
        }

        base = "#analyse tbody tr:visible";
        for (i = 0; i < $(base).length; i++)
        {
          for (j = 0; j < indices.length; j++)
          {
            value = parseFloat($(base + ":nth(" + i + ") td:nth(" + indices[j] + ")").text());
            if (!isNaN(value))
              sums[j] += value;
          }
        }

        for (i = 0; i < sums.length; i++)
        {
          $("#analyse tfoot .sum:nth(" + i + ")").text(sums[i]);
        }
      }

      function get_date()
      {
        var i, j, base, data;
        var dates = new Array();
        var index = $("#analyse tfoot td").index($("#analyse tfoot .date"));

        base = "#analyse tbody tr";
        loop:
        for (i = 0; i < $(base).length; i++)
        {
          data = $(base + ":nth(" + i + ") td:nth(" + index + ")").text().split(".");
          for (j = 0; j < data.length; j++)
          {
            data[j] = parseInt(trim(data[j]));
            if (isNaN(data[j]))
              //break loop;
              continue loop;
          }
          dates.push(data);
        }

        dates.sort(cmp_dates);

        $("#analyse tfoot .date").text(dates[0].join("."));
      }

      $(document).ready(function () {
          $("tr").click(function () { $(this).remove(); });
          setInterval("get_sum()", 2000);
          setInterval("get_date()", 2000);
      });
      -->
    </script>
  </head>

  <body>
    <header>
      <h1>Master studies prokls</h1>
      <h2>lukas.prokop [@] student.tugraz<!-- -->.at</h2>
    </header>
    <article>
      <dl>
        <dt>Last update</dt>
        <dd><time datetime="2016-01-25 22:02:00+01:00">25th of Jan 2016</time></dd>

        <dt>Catalogues</dt>
        <dd>Algorithms &amp; IT Security</dd>
      </dl>

      <h3 id="courses">Courses <a class="id" href="#courses">#</a></h3>

      <table style="width:100%; text-align:center" id="analyse">
        <thead>
          <tr>
            <td>Course</td>
            <td>ECTS (min)</td>
            <td>SSt (min)</td>
            <td>Next date</td>
          </tr>
        </thead>
        <tbody>
          <tr>  <td>IT Security Project</td>  <td>10</td>  <td>N/A</td> <td>15.02.2016</td> </tr>
          <tr>  <td>master thesis</td>        <td>30</td>  <td>20</td> <td>15.04.2016</td> </tr>
          <tr>  <td>Diplomanden-Seminar</td>  <td>5</td>   <td>3</td> <td>15.04.2016</td> </tr>
        </tbody>
        <tfoot>
          <tr>
            <td style="padding-left:30px">total</td>
            <td class="sum"></td>
            <td class="sum"></td>
            <td class="date"></td>
          </tr>
        </tfoot>
      </table>
    </article>
  </body>
</html>
